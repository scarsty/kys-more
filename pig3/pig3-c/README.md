试做的一个纯c版，设计不良，已放弃。